<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://gistcdn.githack.com/samuelcolvin/647671890d647695930ff74f1ca5bfc2/raw/9f925f043fee5f32345f76d45dd1c6dbde4d4315/notbook.css" rel="stylesheet">
    <title>Notbook</title>
    <meta name="description" content="An experiment in displaying python scripts.">
  </head>
  <body>
    <nav>
      <div class="page-width">
        <div class="d-flex justify-content-between align-items-baseline">
          <div>
            <h1>Notbook</h1>
          </div>
          <div>
            <a class="repo-link" href="https://github.com/samuelcolvin/notbook" target="_blank" title="view on github">
              <img class="mr-1" src="https://gistcdn.githack.com/samuelcolvin/647671890d647695930ff74f1ca5bfc2/raw/9f925f043fee5f32345f76d45dd1c6dbde4d4315/github.png"/>
              samuelcolvin/notbook
            </a>
          </div>
        </div>
        <small>An experiment in displaying python scripts.</small>
      </div>
    </nav>
    <article>


      <main>
        
    <section class="text-section">
      <div>
        <p><em>This is an example of a better way to work on and display numerical python code.</em></p>
<h1 id="1-logistic-curve-fitting-example">Logistic curve fitting example</h1>

<p>(Example is taken mostly from 
<a href="https://ipython-books.github.io/93-fitting-a-function-to-data-with-nonlinear-least-squares/" target="_blank">here</a>)</p>

<p>We define a logistic function with four parameters:</p>
<p class="equation d-none">  \[f_{a,b,c,d}(x) = \frac{a}{1 + \exp\left(-c (x-d)\right)} + b\]
</p>
        </div>
      
    </section>
    <section class="code-section">
      <div>
        <pre class="code-block"><span class="highlight"><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">d</span><span class="p">)))</span> <span class="o">+</span> <span class="n">b</span></span></pre></div>
      
        <div class="text-muted text-center mt-1 small">The equation we&#39;ll try and fit</div>
      
    </section>
    <section class="text-section">
      <div>
        <p>Define some random parameters:</p>

        </div>
      
    </section>
    <section class="code-section">
      <div>
        <pre class="code-block"><span class="highlight"><span class="n">a</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">b</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></span></pre></div>
      
    </section>
    <section class="text-section">
      <div>
        <p>which are:</p>

        </div>
      
    </section>
    <section class="print-section">
      <div>
        <pre class="print-statement">a=0.8744 b=-2.0836 c=1.3389 d=0.4991 </pre>
        </div>
      
    </section>
    <section class="text-section">
      <div>
        <p>Now, we generate random data points by using the sigmoid function and adding a bit of noise:</p>

        </div>
      
    </section>
    <section class="code-section">
      <div>
        <pre class="code-block"><span class="highlight"><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">y_model</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y_model</span> <span class="o">+</span> <span class="n">a</span> <span class="o">*</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span></span></pre></div>
      
    </section>
    <section class="text-section">
      <div>
        <p>Plot that to see how it looks:</p>

        </div>
      
    </section>
    <section class="plot-section">
      <div>
        
            <div class="bk-root" id="d3c20e20-cefa-4485-b48f-9ca9e2ce6068" data-root-id="1001"></div>
<script type="application/json" id="1171">
  {"c3aab9a8-37e3-4e2c-8480-7b0c3245158c":{"roots":{"references":[{"attributes":{},"id":"1058","type":"UnionRenderers"},{"attributes":{"source":{"id":"1034"}},"id":"1038","type":"CDSView"},{"attributes":{},"id":"1059","type":"Selection"},{"attributes":{},"id":"1042","type":"BasicTickFormatter"},{"attributes":{},"id":"1004","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1026","type":"BoxAnnotation"},{"attributes":{},"id":"1010","type":"LinearScale"},{"attributes":{},"id":"1013","type":"BasicTicker"},{"attributes":{"axis_label_text_font":"Ubuntu Mono, monospace","axis_label_text_font_size":"1.2rem","formatter":{"id":"1040"},"major_label_text_font_size":"1rem","ticker":{"id":"1013"}},"id":"1012","type":"LinearAxis"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{"axis":{"id":"1012"},"ticker":null},"id":"1015","type":"Grid"},{"attributes":{"axis_label_text_font":"Ubuntu Mono, monospace","axis_label_text_font_size":"1.2rem","formatter":{"id":"1042"},"major_label_text_font_size":"1rem","ticker":{"id":"1017"}},"id":"1016","type":"LinearAxis"},{"attributes":{},"id":"1017","type":"BasicTicker"},{"attributes":{"aspect_ratio":1.78,"below":[{"id":"1012"}],"center":[{"id":"1015"},{"id":"1019"},{"id":"1045"}],"left":[{"id":"1016"}],"renderers":[{"id":"1037"},{"id":"1050"}],"sizing_mode":"stretch_both","title":{"id":"1002"},"toolbar":{"id":"1027"},"x_range":{"id":"1004"},"x_scale":{"id":"1008"},"y_range":{"id":"1006"},"y_scale":{"id":"1010"}},"id":"1001","subtype":"Figure","type":"Plot"},{"attributes":{"axis":{"id":"1016"},"dimension":1,"ticker":null},"id":"1019","type":"Grid"},{"attributes":{"overlay":{"id":"1026"}},"id":"1022","type":"BoxZoomTool"},{"attributes":{"click_policy":"hide","items":[{"id":"1046"},{"id":"1060"}],"label_text_font":"Merriweather, serif","label_text_font_size":"1rem","location":"top_left"},"id":"1045","type":"Legend"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAJMBDYt7OkJgjwIbEvJ0hMSPAyiabbLLJIsANiXk7Q2IiwFDrVwrU+iHAk0022WSTIcDXrxSo9SshwBoS83aGxCDAXXTRRRddIMBArV8pUOsfwMdxHMdxHB/ATjbZZJNNHsDU+pUCtX4dwFq/UqDWrxzA4YMPPvjgG8BoSMzbGRIbwO4MiXk7QxrAdNFFF110GcD7lQK1fqUYwIFav1Kg1hfACB988MEHF8CO4ziO4zgWwBWo9SsFahXAm2yyySabFMAiMW9nSMwTwKj1KwVq/RLAL7rooosuEsC1fqVArV8RwDxDYt7OkBDAhA8++OCDD8CSmLczJOYNwJ4hMW9nSAzAqqqqqqqqCsC4MyTm7QwJwMS8nSExbwfA0kUXXXTRBcDezpCYtzMEwOxXCtT6lQLA+OCDDz74AMAI1PqVArX+vyjm7QyJefu/QPjggw8++L9YCtT6lQL1v3Acx3Ecx/G/IF100UUX7b9QgVq/UqDmv4ClQK1fKeC/YJNNNtlk078Ab2dIzNu5vwBvZ0jM27k/YJNNNtlk0z+ApUCtXyngP1CBWr9SoOY/EF100UUX7T9wHMdxHMfxP1gK1PqVAvU/QPjggw8++D8g5u0MiXn7PwjU+pUCtf4/+OCDDz74AEDsVwrU+pUCQNzOkJi3MwRA0EUXXXTRBUDEvJ0hMW8HQLgzJObtDAlArKqqqqqqCkCcITFvZ0gMQJCYtzMk5g1AhA8++OCDD0A8Q2LezpAQQLR+pUCtXxFALrrooosuEkCo9SsFav0SQCIxb2dIzBNAmmyyySabFEAUqPUrBWoVQI7jOI7jOBZACB988MEHF0CAWr9SoNYXQPyVArV+pRhAdNFFF110GUDsDIl5O0MaQGhIzNsZEhtA4IMPPvjgG0Bcv1Kg1q8cQNT6lQK1fh1ATDbZZJNNHkDIcRzHcRwfQECtXylQ6x9AXHTRRRddIEAaEvN2hsQgQNavFKj1KyFAlE022WSTIUBQ61cK1PohQAyJeTtDYiJAyiabbLLJIkCGxLydITEjQERi3s6QmCNAAAAAAAAAJEA=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"dJwGgT7g/r9SeKbf4dUAwOsf1WCq5QHAtkXJh6skAcDmG4aAsj3+v86gneuMPADAD4PYhMkHAMBKPak81HUDwB0jccwEEAHAoIJ/29wPAMANTVXNyuUCwFG9Q3jeyP+/+OQyFPqdAcD9D260lOv6v/P/10ds4gHAXIbrBNCrAMDGY7ul04v9v9m3PoFFQAHAfSC70mlGAMBII1UVxDACwJReQiVxLP6/eUgr9Q7v/79LQbOGXxACwEfpXvrhLgHA37snoNTV/7/b0ElkoXz/v0udoIN+kADAMPPTTKPi/b99K3nSwZH9v3Zy3i75mwDAXFiYXPRsA8AokixGApQAwLWzF0eQKAHAikn5s8wEAcBMH9+43EICwG9TsAOmZgDAqgTjaOdQA8A8venn7vH/v7tdMEKJRQDAin2mZp7t+r+1+OQyVDoAwCoc7zTUkAHAhwWV/B2rAsDQnHfhtIv8v06xECPEgwDAuj9f0GNv/r/+w+IcEoUAwGKCJcXfCALAbe+sOP7z+r9WsvNQTZz9v356dAVvKPq/CwX+k6/l/78BX7/XdUz7v7vNRFEPPfW/zOUdveZs/L8PKrES/9T7v/j/Or+NCva/sSwiXVUm97+pO0SatKz2v2Bl2pFH3PO/hlzRZoqt9r8o+EH8akbyv4p/mAxBMvO/u6Sy4u/G9L+dS1IvAin3vyquSBk3tfK/z2YrkdV88L9iX3F4A+Hzv4pvAuvdJva/IOmX6P+C9L99QM6pbgfyv3Y3dkc99PO/0e5iXBKp77/vaC/Q0VHwv26vDW8oefO/Q50mwfTP77+LjDyCEUP0v7yURdurWfC/XBXuwKgT87973KOEKzrzv1AOvMSH5Pa/BVDB8oNK7b/lbUDp7Svyv2Yit60ayOu/QPl6WIWe9L/unBrv+gLyv5bdor83ifi/CHyNwCkM978oyF7E1gT1v5BgH5hwW+6/sY7W3gWZ8L+ofuY4CiL1v7YcGNP2DPS/lQSXaPQC9b+RdOVhrKT1vyXTA7qxp/a/nnOXi/vM6r+sDv8YOZHzv71KzEDnBva//s/f8+71878=","dtype":"float64","shape":[100]}},"selected":{"id":"1070"},"selection_policy":{"id":"1069"}},"id":"1047","type":"ColumnDataSource"},{"attributes":{},"id":"1025","type":"HelpTool"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1020"},{"id":"1021"},{"id":"1022"},{"id":"1023"},{"id":"1024"},{"id":"1025"}]},"id":"1027","type":"Toolbar"},{"attributes":{"source":{"id":"1047"}},"id":"1051","type":"CDSView"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAJMBDYt7OkJgjwIbEvJ0hMSPAyiabbLLJIsANiXk7Q2IiwFDrVwrU+iHAk0022WSTIcDXrxSo9SshwBoS83aGxCDAXXTRRRddIMBArV8pUOsfwMdxHMdxHB/ATjbZZJNNHsDU+pUCtX4dwFq/UqDWrxzA4YMPPvjgG8BoSMzbGRIbwO4MiXk7QxrAdNFFF110GcD7lQK1fqUYwIFav1Kg1hfACB988MEHF8CO4ziO4zgWwBWo9SsFahXAm2yyySabFMAiMW9nSMwTwKj1KwVq/RLAL7rooosuEsC1fqVArV8RwDxDYt7OkBDAhA8++OCDD8CSmLczJOYNwJ4hMW9nSAzAqqqqqqqqCsC4MyTm7QwJwMS8nSExbwfA0kUXXXTRBcDezpCYtzMEwOxXCtT6lQLA+OCDDz74AMAI1PqVArX+vyjm7QyJefu/QPjggw8++L9YCtT6lQL1v3Acx3Ecx/G/IF100UUX7b9QgVq/UqDmv4ClQK1fKeC/YJNNNtlk078Ab2dIzNu5vwBvZ0jM27k/YJNNNtlk0z+ApUCtXyngP1CBWr9SoOY/EF100UUX7T9wHMdxHMfxP1gK1PqVAvU/QPjggw8++D8g5u0MiXn7PwjU+pUCtf4/+OCDDz74AEDsVwrU+pUCQNzOkJi3MwRA0EUXXXTRBUDEvJ0hMW8HQLgzJObtDAlArKqqqqqqCkCcITFvZ0gMQJCYtzMk5g1AhA8++OCDD0A8Q2LezpAQQLR+pUCtXxFALrrooosuEkCo9SsFav0SQCIxb2dIzBNAmmyyySabFEAUqPUrBWoVQI7jOI7jOBZACB988MEHF0CAWr9SoNYXQPyVArV+pRhAdNFFF110GUDsDIl5O0MaQGhIzNsZEhtA4IMPPvjgG0Bcv1Kg1q8cQNT6lQK1fh1ATDbZZJNNHkDIcRzHcRwfQECtXylQ6x9AXHTRRRddIEAaEvN2hsQgQNavFKj1KyFAlE022WSTIUBQ61cK1PohQAyJeTtDYiJAyiabbLLJIkCGxLydITEjQERi3s6QmCNAAAAAAAAAJEA=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"FPjmHTarAMBdH0cBNqsAwBFBw9s1qwDApW+YqjWrAMDvKyhqNasAwPkytBU1qwDArB0FpzSrAMCBPvUVNKsAwI4e11czqwDAJU6sXjKrAMDDux0YMasAwOUrImwvqwDA22c5Oy2rAMC21xpcKqsAwNfoq5gmqwDAoR4FqiGrAMA9+jozG6sAwEzBiLoSqwDA5edcoAerAMCRVp8T+aoAwLEkVgLmqgDAPRCKBc2qAMDIXPRGrKoAwKT0jV6BqgDAgkCEJUmqAMAn/ll7/6kAwD1JBvmeqQDAbvOsjCCpAMAhnQL3eqgAwDH8hSGipwDAc1xiQoamAMBgKgrAEqUAwGAGc8MsowDA1XiNZLGgAMBJcJVZc50AwCwyJhA4mQDANmhaGLSTAMDfbL3RhowAwNHuZlw1gwDAJq7g9SR3AMAKTiYslWcAwGbxZr6aUwDAiWSipxw6AMDbu3yt1RkAwPVh0pi74v+/3V8FTn9+/78cdjIZPAT/v1SuZV3Xcf6/Jw1BPGTG/b+ECO7guQL9v3d6iyzpKfy/iM+8SV5B+7+QyQtShVD6v9YypVnuX/m/JOsMKyB4+L+ytCyubaD3v2qK8LUg3va/eL8VlSY09r/+N64DOKP1v2/BGR5SKvW/ocqAKU3H9L86nHIvaXf0v+BkNUy7N/S/is6FqHYF9L8x7UWwFd7zv/Eeg8Vrv/O/1OxZq6en87/3hGA9TZXzv0jEaAsrh/O/1TAau05887/isPbO+XPzv4Dedp2XbfO//gC1wbRo87/ql0wH+GTzvxYhmK8cYvO/5plx4O1f87/cMF4KQ17zv0qzrRf9XPO/yoYkPARc878m9GVDRlvzv17blUK1WvO/yI0ml0Za878zGWUh8lnzv8E6HK2xWfO/KhWtfYBZ87+FQ2L1WlnzvyoCo1E+WfO/ouAidyhZ87+fzkzKF1nzv4l9CBELWfO/1JylWwFZ87+UAT3z+VjzvxJvPUz0WPO/UpEn/O9Y878oT7ix7Fjzv1Up7i7qWPO/CC95ROhY878/qz/O5ljzv1gAtrDlWPO/eKvX1uRY878=","dtype":"float64","shape":[100]}},"selected":{"id":"1059"},"selection_policy":{"id":"1058"}},"id":"1034","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1048","type":"Circle"},{"attributes":{},"id":"1020","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1049","type":"Circle"},{"attributes":{},"id":"1069","type":"UnionRenderers"},{"attributes":{},"id":"1021","type":"WheelZoomTool"},{"attributes":{},"id":"1070","type":"Selection"},{"attributes":{},"id":"1023","type":"SaveTool"},{"attributes":{},"id":"1024","type":"ResetTool"},{"attributes":{"data_source":{"id":"1047"},"glyph":{"id":"1048"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1049"},"selection_glyph":null,"view":{"id":"1051"}},"id":"1050","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_dash":[6],"line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1036","type":"Line"},{"attributes":{},"id":"1006","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1034"},"glyph":{"id":"1035"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1036"},"selection_glyph":null,"view":{"id":"1038"}},"id":"1037","type":"GlyphRenderer"},{"attributes":{"align":"center","text":"Model and random data","text_font":"Titillium Web, sans-serif","text_font_size":{"value":"1.5rem"}},"id":"1002","type":"Title"},{"attributes":{"label":{"value":"model"},"renderers":[{"id":"1037"}]},"id":"1046","type":"LegendItem"},{"attributes":{"label":{"value":"random data"},"renderers":[{"id":"1050"}]},"id":"1060","type":"LegendItem"},{"attributes":{"line_dash":[6],"line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1035","type":"Line"},{"attributes":{},"id":"1040","type":"BasicTickFormatter"}],"root_ids":["1001"]},"title":"Bokeh Application","version":"2.0.2"}}
</script>
<script type="text/javascript">
  (function() {
    var fn = function() {
      Bokeh.safely(function() {
        (function(root) {
          function embed_document(root) {
            
          var docs_json = document.getElementById('1171').textContent;
          var render_items = [{"docid":"c3aab9a8-37e3-4e2c-8480-7b0c3245158c","root_ids":["1001"],"roots":{"1001":"d3c20e20-cefa-4485-b48f-9ca9e2ce6068"}}];
          root.Bokeh.embed.embed_items(docs_json, render_items);
        
          }
          if (root.Bokeh !== undefined) {
            embed_document(root);
          } else {
            var attempts = 0;
            var timer = setInterval(function(root) {
              if (root.Bokeh !== undefined) {
                clearInterval(timer);
                embed_document(root);
              } else {
                attempts++;
                if (attempts > 100) {
                  clearInterval(timer);
                  console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                }
              }
            }, 10, root)
          }
        })(window);
      });
    };
    if (document.readyState != "loading") fn();
    else document.addEventListener("DOMContentLoaded", fn);
  })();
</script>
        </div>
      
    </section>
    <section class="text-section">
      <div>
        <p>We now assume that we only have access to the data points and not the underlying generative function. 
These points could have been obtained during an experiment. </p>

<p>By looking at the data, the points appear to approximately follow a sigmoid, so we may want to try to fit such a 
curve to the points. 
That&#39;s what curve fitting is about. </p>

<p>SciPy&#39;s <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html" target="_blank"><code>curve_fit()</code></a> 
function allows us to fit a curve defined by an 
arbitrary Python function to the data:</p>

        </div>
      
    </section>
    <section class="code-section">
      <div>
        <pre class="code-block"><span class="highlight"><span class="p">(</span><span class="n">a_</span><span class="p">,</span> <span class="n">b_</span><span class="p">,</span> <span class="n">c_</span><span class="p">,</span> <span class="n">d_</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">curve_fit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></span></pre></div>
      
    </section>
    <section class="text-section">
      <div>
        <p>And use those parameters to estimate our underlying curve</p>

        </div>
      
    </section>
    <section class="code-section">
      <div>
        <pre class="code-block"><span class="highlight"><span class="n">y_fit</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a_</span><span class="p">,</span> <span class="n">b_</span><span class="p">,</span> <span class="n">c_</span><span class="p">,</span> <span class="n">d_</span><span class="p">)</span></span></pre></div>
      
    </section>
    <section class="plot-section">
      <div>
        
            <div class="bk-root" id="b135ab3f-6787-4f0a-be31-5c9a4388c241" data-root-id="1172"></div>
<script type="application/json" id="1380">
  {"6e1b348c-3a95-49d9-bd6e-492a7a564df2":{"roots":{"references":[{"attributes":{},"id":"1191","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1220","type":"Circle"},{"attributes":{"data_source":{"id":"1218"},"glyph":{"id":"1219"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1220"},"selection_glyph":null,"view":{"id":"1222"}},"id":"1221","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1232"},"glyph":{"id":"1233"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1234"},"selection_glyph":null,"view":{"id":"1236"}},"id":"1235","type":"GlyphRenderer"},{"attributes":{"label":{"value":"random data"},"renderers":[{"id":"1221"}]},"id":"1231","type":"LegendItem"},{"attributes":{},"id":"1229","type":"UnionRenderers"},{"attributes":{},"id":"1181","type":"LinearScale"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1219","type":"Circle"},{"attributes":{"source":{"id":"1218"}},"id":"1222","type":"CDSView"},{"attributes":{},"id":"1230","type":"Selection"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAJMBDYt7OkJgjwIbEvJ0hMSPAyiabbLLJIsANiXk7Q2IiwFDrVwrU+iHAk0022WSTIcDXrxSo9SshwBoS83aGxCDAXXTRRRddIMBArV8pUOsfwMdxHMdxHB/ATjbZZJNNHsDU+pUCtX4dwFq/UqDWrxzA4YMPPvjgG8BoSMzbGRIbwO4MiXk7QxrAdNFFF110GcD7lQK1fqUYwIFav1Kg1hfACB988MEHF8CO4ziO4zgWwBWo9SsFahXAm2yyySabFMAiMW9nSMwTwKj1KwVq/RLAL7rooosuEsC1fqVArV8RwDxDYt7OkBDAhA8++OCDD8CSmLczJOYNwJ4hMW9nSAzAqqqqqqqqCsC4MyTm7QwJwMS8nSExbwfA0kUXXXTRBcDezpCYtzMEwOxXCtT6lQLA+OCDDz74AMAI1PqVArX+vyjm7QyJefu/QPjggw8++L9YCtT6lQL1v3Acx3Ecx/G/IF100UUX7b9QgVq/UqDmv4ClQK1fKeC/YJNNNtlk078Ab2dIzNu5vwBvZ0jM27k/YJNNNtlk0z+ApUCtXyngP1CBWr9SoOY/EF100UUX7T9wHMdxHMfxP1gK1PqVAvU/QPjggw8++D8g5u0MiXn7PwjU+pUCtf4/+OCDDz74AEDsVwrU+pUCQNzOkJi3MwRA0EUXXXTRBUDEvJ0hMW8HQLgzJObtDAlArKqqqqqqCkCcITFvZ0gMQJCYtzMk5g1AhA8++OCDD0A8Q2LezpAQQLR+pUCtXxFALrrooosuEkCo9SsFav0SQCIxb2dIzBNAmmyyySabFEAUqPUrBWoVQI7jOI7jOBZACB988MEHF0CAWr9SoNYXQPyVArV+pRhAdNFFF110GUDsDIl5O0MaQGhIzNsZEhtA4IMPPvjgG0Bcv1Kg1q8cQNT6lQK1fh1ATDbZZJNNHkDIcRzHcRwfQECtXylQ6x9AXHTRRRddIEAaEvN2hsQgQNavFKj1KyFAlE022WSTIUBQ61cK1PohQAyJeTtDYiJAyiabbLLJIkCGxLydITEjQERi3s6QmCNAAAAAAAAAJEA=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"8nXCsg2tAMA898CjDa0AwAWh9I8NrQDAyaPVdQ2tAMCvDl9TDa0AwFLZ5iUNrQDAfSrp6QytAMB/yMKaDK0AwLtSVTIMrQDAbSyOqAutAMAQvcbyCq0AwOWt8QIKrQDAZ9uExgitAMD4fgolB60AwFs6Pf4ErQDAzKSJJwKtAMD2DsRo/qwAwFJ+0Xf5rADAHS7u8vKsAMDDoSBZ6qwAwORxRADfrADASMjoB9CsAMDCdABIvKwAwGkWEDqirADA3R8c23+sAMCl+gyEUqwAwJmzibUWrADARINd08erAMA4sUvKX6sAwECsrpnWqgDAqLxPuCGqAMCjcXlJM6kAwM4aURT5pwDAxU8BLFumAMDfe0szOqQAwJ5yBCJtoQDAA7aNb76dAMBrJQGE6JgAwAPKK1WRkgDA0JA1IUWKAMCHTltWcH8AwHxOnvBYcQDAM/4D+xdfAMBoL3GDlEcAwLf/FzuCKQDACUMAKWcDAMAYkQ8FWqf/v+fab5+GMf+/mFPSqqyi/r+CHd63NPn9v1antq9ENf2/0uIk+lpZ/L+2Js0HnGr7v7SMNmCZcPq/c9yn8Xx0+b/y1Kvev3/4v/xqUIbJmve/OjnjHd/L9r+e6irIpRb2v0FQjdQ6fPW/FjQ3s7T79L+gB4O2zpL0v2smex6NPvS/kG3atL37879XkoWqTcfzv27x4sZ5nvO/UorAxuJ+87/z0A/Vj2bzv46rVP7mU/O/YMiKDaFF87+oSBcsvDrzv0yhrRxvMvO/yn+X7h0s879grxdyUCfzvxrSSGaqI/O/tAvbMuUg878MtHzyyh7zv756HZIyHfO/ijrFzvwb87+4nY/jERvzvyZUfsFfGvO/nKlHstgZ87/OILBNchnzv6EnS64kGfO/sg7G1ukY878i3UQ8vRjzv1gPAW2bGPO/E+hqzIEY87+NCaZfbhjzv7yac6ZfGPO/KlqMfVQY87/haCQITBjzv7Vr3p5FGPO/eRTewkAY878nGPsTPRjzvwIaU0k6GPO/tsmnKzgY87/45hmRNhjzvyjE7Fk1GPO/pEkSbjQY878=","dtype":"float64","shape":[100]}},"selected":{"id":"1259"},"selection_policy":{"id":"1258"}},"id":"1232","type":"ColumnDataSource"},{"attributes":{},"id":"1184","type":"BasicTicker"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAJMBDYt7OkJgjwIbEvJ0hMSPAyiabbLLJIsANiXk7Q2IiwFDrVwrU+iHAk0022WSTIcDXrxSo9SshwBoS83aGxCDAXXTRRRddIMBArV8pUOsfwMdxHMdxHB/ATjbZZJNNHsDU+pUCtX4dwFq/UqDWrxzA4YMPPvjgG8BoSMzbGRIbwO4MiXk7QxrAdNFFF110GcD7lQK1fqUYwIFav1Kg1hfACB988MEHF8CO4ziO4zgWwBWo9SsFahXAm2yyySabFMAiMW9nSMwTwKj1KwVq/RLAL7rooosuEsC1fqVArV8RwDxDYt7OkBDAhA8++OCDD8CSmLczJOYNwJ4hMW9nSAzAqqqqqqqqCsC4MyTm7QwJwMS8nSExbwfA0kUXXXTRBcDezpCYtzMEwOxXCtT6lQLA+OCDDz74AMAI1PqVArX+vyjm7QyJefu/QPjggw8++L9YCtT6lQL1v3Acx3Ecx/G/IF100UUX7b9QgVq/UqDmv4ClQK1fKeC/YJNNNtlk078Ab2dIzNu5vwBvZ0jM27k/YJNNNtlk0z+ApUCtXyngP1CBWr9SoOY/EF100UUX7T9wHMdxHMfxP1gK1PqVAvU/QPjggw8++D8g5u0MiXn7PwjU+pUCtf4/+OCDDz74AEDsVwrU+pUCQNzOkJi3MwRA0EUXXXTRBUDEvJ0hMW8HQLgzJObtDAlArKqqqqqqCkCcITFvZ0gMQJCYtzMk5g1AhA8++OCDD0A8Q2LezpAQQLR+pUCtXxFALrrooosuEkCo9SsFav0SQCIxb2dIzBNAmmyyySabFEAUqPUrBWoVQI7jOI7jOBZACB988MEHF0CAWr9SoNYXQPyVArV+pRhAdNFFF110GUDsDIl5O0MaQGhIzNsZEhtA4IMPPvjgG0Bcv1Kg1q8cQNT6lQK1fh1ATDbZZJNNHkDIcRzHcRwfQECtXylQ6x9AXHTRRRddIEAaEvN2hsQgQNavFKj1KyFAlE022WSTIUBQ61cK1PohQAyJeTtDYiJAyiabbLLJIkCGxLydITEjQERi3s6QmCNAAAAAAAAAJEA=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"dJwGgT7g/r9SeKbf4dUAwOsf1WCq5QHAtkXJh6skAcDmG4aAsj3+v86gneuMPADAD4PYhMkHAMBKPak81HUDwB0jccwEEAHAoIJ/29wPAMANTVXNyuUCwFG9Q3jeyP+/+OQyFPqdAcD9D260lOv6v/P/10ds4gHAXIbrBNCrAMDGY7ul04v9v9m3PoFFQAHAfSC70mlGAMBII1UVxDACwJReQiVxLP6/eUgr9Q7v/79LQbOGXxACwEfpXvrhLgHA37snoNTV/7/b0ElkoXz/v0udoIN+kADAMPPTTKPi/b99K3nSwZH9v3Zy3i75mwDAXFiYXPRsA8AokixGApQAwLWzF0eQKAHAikn5s8wEAcBMH9+43EICwG9TsAOmZgDAqgTjaOdQA8A8venn7vH/v7tdMEKJRQDAin2mZp7t+r+1+OQyVDoAwCoc7zTUkAHAhwWV/B2rAsDQnHfhtIv8v06xECPEgwDAuj9f0GNv/r/+w+IcEoUAwGKCJcXfCALAbe+sOP7z+r9WsvNQTZz9v356dAVvKPq/CwX+k6/l/78BX7/XdUz7v7vNRFEPPfW/zOUdveZs/L8PKrES/9T7v/j/Or+NCva/sSwiXVUm97+pO0SatKz2v2Bl2pFH3PO/hlzRZoqt9r8o+EH8akbyv4p/mAxBMvO/u6Sy4u/G9L+dS1IvAin3vyquSBk3tfK/z2YrkdV88L9iX3F4A+Hzv4pvAuvdJva/IOmX6P+C9L99QM6pbgfyv3Y3dkc99PO/0e5iXBKp77/vaC/Q0VHwv26vDW8oefO/Q50mwfTP77+LjDyCEUP0v7yURdurWfC/XBXuwKgT87973KOEKzrzv1AOvMSH5Pa/BVDB8oNK7b/lbUDp7Svyv2Yit60ayOu/QPl6WIWe9L/unBrv+gLyv5bdor83ifi/CHyNwCkM978oyF7E1gT1v5BgH5hwW+6/sY7W3gWZ8L+ofuY4CiL1v7YcGNP2DPS/lQSXaPQC9b+RdOVhrKT1vyXTA7qxp/a/nnOXi/vM6r+sDv8YOZHzv71KzEDnBva//s/f8+71878=","dtype":"float64","shape":[100]}},"selected":{"id":"1246"},"selection_policy":{"id":"1245"}},"id":"1218","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"1187"},"dimension":1,"ticker":null},"id":"1190","type":"Grid"},{"attributes":{"align":"center","text":"Model, random data and curve fit","text_font":"Titillium Web, sans-serif","text_font_size":{"value":"1.5rem"}},"id":"1173","type":"Title"},{"attributes":{"click_policy":"hide","items":[{"id":"1217"},{"id":"1231"},{"id":"1247"}],"label_text_font":"Merriweather, serif","label_text_font_size":"1rem","location":"top_left"},"id":"1216","type":"Legend"},{"attributes":{"aspect_ratio":1.78,"below":[{"id":"1183"}],"center":[{"id":"1186"},{"id":"1190"},{"id":"1216"}],"left":[{"id":"1187"}],"renderers":[{"id":"1208"},{"id":"1221"},{"id":"1235"}],"sizing_mode":"stretch_both","title":{"id":"1173"},"toolbar":{"id":"1198"},"x_range":{"id":"1175"},"x_scale":{"id":"1179"},"y_range":{"id":"1177"},"y_scale":{"id":"1181"}},"id":"1172","subtype":"Figure","type":"Plot"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1197","type":"BoxAnnotation"},{"attributes":{},"id":"1211","type":"BasicTickFormatter"},{"attributes":{},"id":"1177","type":"DataRange1d"},{"attributes":{"source":{"id":"1232"}},"id":"1236","type":"CDSView"},{"attributes":{"axis_label_text_font":"Ubuntu Mono, monospace","axis_label_text_font_size":"1.2rem","formatter":{"id":"1211"},"major_label_text_font_size":"1rem","ticker":{"id":"1184"}},"id":"1183","type":"LinearAxis"},{"attributes":{},"id":"1175","type":"DataRange1d"},{"attributes":{"label":{"value":"curve fit"},"renderers":[{"id":"1235"}]},"id":"1247","type":"LegendItem"},{"attributes":{},"id":"1258","type":"UnionRenderers"},{"attributes":{"line_dash":[6],"line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1206","type":"Line"},{"attributes":{"line_color":"red","line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1233","type":"Line"},{"attributes":{"axis":{"id":"1183"},"ticker":null},"id":"1186","type":"Grid"},{"attributes":{},"id":"1179","type":"LinearScale"},{"attributes":{},"id":"1259","type":"Selection"},{"attributes":{"overlay":{"id":"1197"}},"id":"1193","type":"BoxZoomTool"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1234","type":"Line"},{"attributes":{"axis_label_text_font":"Ubuntu Mono, monospace","axis_label_text_font_size":"1.2rem","formatter":{"id":"1213"},"major_label_text_font_size":"1rem","ticker":{"id":"1188"}},"id":"1187","type":"LinearAxis"},{"attributes":{},"id":"1213","type":"BasicTickFormatter"},{"attributes":{},"id":"1188","type":"BasicTicker"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAJMBDYt7OkJgjwIbEvJ0hMSPAyiabbLLJIsANiXk7Q2IiwFDrVwrU+iHAk0022WSTIcDXrxSo9SshwBoS83aGxCDAXXTRRRddIMBArV8pUOsfwMdxHMdxHB/ATjbZZJNNHsDU+pUCtX4dwFq/UqDWrxzA4YMPPvjgG8BoSMzbGRIbwO4MiXk7QxrAdNFFF110GcD7lQK1fqUYwIFav1Kg1hfACB988MEHF8CO4ziO4zgWwBWo9SsFahXAm2yyySabFMAiMW9nSMwTwKj1KwVq/RLAL7rooosuEsC1fqVArV8RwDxDYt7OkBDAhA8++OCDD8CSmLczJOYNwJ4hMW9nSAzAqqqqqqqqCsC4MyTm7QwJwMS8nSExbwfA0kUXXXTRBcDezpCYtzMEwOxXCtT6lQLA+OCDDz74AMAI1PqVArX+vyjm7QyJefu/QPjggw8++L9YCtT6lQL1v3Acx3Ecx/G/IF100UUX7b9QgVq/UqDmv4ClQK1fKeC/YJNNNtlk078Ab2dIzNu5vwBvZ0jM27k/YJNNNtlk0z+ApUCtXyngP1CBWr9SoOY/EF100UUX7T9wHMdxHMfxP1gK1PqVAvU/QPjggw8++D8g5u0MiXn7PwjU+pUCtf4/+OCDDz74AEDsVwrU+pUCQNzOkJi3MwRA0EUXXXTRBUDEvJ0hMW8HQLgzJObtDAlArKqqqqqqCkCcITFvZ0gMQJCYtzMk5g1AhA8++OCDD0A8Q2LezpAQQLR+pUCtXxFALrrooosuEkCo9SsFav0SQCIxb2dIzBNAmmyyySabFEAUqPUrBWoVQI7jOI7jOBZACB988MEHF0CAWr9SoNYXQPyVArV+pRhAdNFFF110GUDsDIl5O0MaQGhIzNsZEhtA4IMPPvjgG0Bcv1Kg1q8cQNT6lQK1fh1ATDbZZJNNHkDIcRzHcRwfQECtXylQ6x9AXHTRRRddIEAaEvN2hsQgQNavFKj1KyFAlE022WSTIUBQ61cK1PohQAyJeTtDYiJAyiabbLLJIkCGxLydITEjQERi3s6QmCNAAAAAAAAAJEA=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"FPjmHTarAMBdH0cBNqsAwBFBw9s1qwDApW+YqjWrAMDvKyhqNasAwPkytBU1qwDArB0FpzSrAMCBPvUVNKsAwI4e11czqwDAJU6sXjKrAMDDux0YMasAwOUrImwvqwDA22c5Oy2rAMC21xpcKqsAwNfoq5gmqwDAoR4FqiGrAMA9+jozG6sAwEzBiLoSqwDA5edcoAerAMCRVp8T+aoAwLEkVgLmqgDAPRCKBc2qAMDIXPRGrKoAwKT0jV6BqgDAgkCEJUmqAMAn/ll7/6kAwD1JBvmeqQDAbvOsjCCpAMAhnQL3eqgAwDH8hSGipwDAc1xiQoamAMBgKgrAEqUAwGAGc8MsowDA1XiNZLGgAMBJcJVZc50AwCwyJhA4mQDANmhaGLSTAMDfbL3RhowAwNHuZlw1gwDAJq7g9SR3AMAKTiYslWcAwGbxZr6aUwDAiWSipxw6AMDbu3yt1RkAwPVh0pi74v+/3V8FTn9+/78cdjIZPAT/v1SuZV3Xcf6/Jw1BPGTG/b+ECO7guQL9v3d6iyzpKfy/iM+8SV5B+7+QyQtShVD6v9YypVnuX/m/JOsMKyB4+L+ytCyubaD3v2qK8LUg3va/eL8VlSY09r/+N64DOKP1v2/BGR5SKvW/ocqAKU3H9L86nHIvaXf0v+BkNUy7N/S/is6FqHYF9L8x7UWwFd7zv/Eeg8Vrv/O/1OxZq6en87/3hGA9TZXzv0jEaAsrh/O/1TAau05887/isPbO+XPzv4Dedp2XbfO//gC1wbRo87/ql0wH+GTzvxYhmK8cYvO/5plx4O1f87/cMF4KQ17zv0qzrRf9XPO/yoYkPARc878m9GVDRlvzv17blUK1WvO/yI0ml0Za878zGWUh8lnzv8E6HK2xWfO/KhWtfYBZ87+FQ2L1WlnzvyoCo1E+WfO/ouAidyhZ87+fzkzKF1nzv4l9CBELWfO/1JylWwFZ87+UAT3z+VjzvxJvPUz0WPO/UpEn/O9Y878oT7ix7Fjzv1Up7i7qWPO/CC95ROhY878/qz/O5ljzv1gAtrDlWPO/eKvX1uRY878=","dtype":"float64","shape":[100]}},"selected":{"id":"1230"},"selection_policy":{"id":"1229"}},"id":"1205","type":"ColumnDataSource"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1191"},{"id":"1192"},{"id":"1193"},{"id":"1194"},{"id":"1195"},{"id":"1196"}]},"id":"1198","type":"Toolbar"},{"attributes":{},"id":"1245","type":"UnionRenderers"},{"attributes":{},"id":"1194","type":"SaveTool"},{"attributes":{},"id":"1246","type":"Selection"},{"attributes":{},"id":"1195","type":"ResetTool"},{"attributes":{"data_source":{"id":"1205"},"glyph":{"id":"1206"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1207"},"selection_glyph":null,"view":{"id":"1209"}},"id":"1208","type":"GlyphRenderer"},{"attributes":{},"id":"1196","type":"HelpTool"},{"attributes":{"label":{"value":"model"},"renderers":[{"id":"1208"}]},"id":"1217","type":"LegendItem"},{"attributes":{"line_alpha":0.1,"line_dash":[6],"line_width":5,"x":{"field":"x"},"y":{"field":"y"}},"id":"1207","type":"Line"},{"attributes":{},"id":"1192","type":"WheelZoomTool"},{"attributes":{"source":{"id":"1205"}},"id":"1209","type":"CDSView"}],"root_ids":["1172"]},"title":"Bokeh Application","version":"2.0.2"}}
</script>
<script type="text/javascript">
  (function() {
    var fn = function() {
      Bokeh.safely(function() {
        (function(root) {
          function embed_document(root) {
            
          var docs_json = document.getElementById('1380').textContent;
          var render_items = [{"docid":"6e1b348c-3a95-49d9-bd6e-492a7a564df2","root_ids":["1172"],"roots":{"1172":"b135ab3f-6787-4f0a-be31-5c9a4388c241"}}];
          root.Bokeh.embed.embed_items(docs_json, render_items);
        
          }
          if (root.Bokeh !== undefined) {
            embed_document(root);
          } else {
            var attempts = 0;
            var timer = setInterval(function(root) {
              if (root.Bokeh !== undefined) {
                clearInterval(timer);
                embed_document(root);
              } else {
                attempts++;
                if (attempts > 100) {
                  clearInterval(timer);
                  console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                }
              }
            }, 10, root)
          }
        })(window);
      });
    };
    if (document.readyState != "loading") fn();
    else document.addEventListener("DOMContentLoaded", fn);
  })();
</script>
        </div>
      
    </section>
    <section class="text-section">
      <div>
        <p>we can also manually compare our initial parameters with with those from <code>curve_fit()</code>:</p>

        </div>
      
    </section>
    <section class="print-section">
      <div>
        <pre class="print-statement">initial parameters:    a=0.8744 b=-2.0836 c=1.3389 d=0.4991 </pre><pre class="print-statement">curve_fit parameters:  a=0.8911 b=-2.0845 c=1.3719 d=0.7514 </pre>
        </div>
      
    </section>

      </main>
    </article>
  </body>
  
  <script>
    MathJax = {startup: {elements: ['p.equation']}, svg: {scale: 1.2}}
    show_eq = () => document.querySelectorAll('p.equation').forEach(e => e.classList.remove('d-none'))
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-svg.js" crossorigin="anonymous" onload="show_eq()">
  </script>
    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js"
          integrity="sha384-ufR9RFnRs6lniiaFvtJziE0YeidtAgBRH6ux2oUItHw5WTvE1zuk9uzhUU/FJXDp"
          crossorigin="anonymous"></script>
  

  
</html>